@model IEnumerable<Throb.Data.Entities.Course>

@{
    ViewData["Title"] = "Drive Sessions";
    // ❌ تم حذف تعريف متغيرات الألوان هنا ونقلها إلى CSS Custom Properties
}


@* ⚠️ ملاحظة: يمكن دمج Font-Awesome في ملف _Layout.cshtml لتحميلها مرة واحدة لكل الصفحات. *@
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />


<div class="loading-screen" id="loading-screen">
    <div class="loading-container">
        <i class="fas fa-book-open loading-book"></i>
        <div class="loading-ring"></div>
    </div>
</div>

<div class="header-section">
    <div class="container text-center py-5">
        <h1 class="animated-title mb-3">@ViewData["Title"]</h1>
        <p class="animated-description lead">Explore engaging courses and enhance your skills.</p>
        <div class="header-buttons">
            <a asp-action="UploadVideo" class="btn btn-header-action me-3 animate__animated animate__pulse animate__infinite">Upload New Session</a>
            <a href="#courses-list" class="btn btn-header-action-alt scroll-down-btn">Explore Courses <i class="fas fa-arrow-down ms-2"></i></a>
        </div>
    </div>
</div>

<div class="container my-5" id="courses-list">
    @if (!Model.Any())
    {
        <div class="alert alert-info text-center" role="alert">
            No courses available yet. Be the first to <a asp-action="UploadVideo">upload a session</a>!
        </div>
    }
    else
    {
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            @foreach (var course in Model)
            {
                <div class="col">
                    <div class="course-card h-100">
                        <div class="card-body d-flex flex-column">
                            <div class="course-icon-wrapper mb-3">
                                <i class="fas fa-book-open course-icon fa-2x"></i>
                            </div>
                            <h5 class="course-title text-center mb-2">@course.Name</h5>
                            <p class="course-description text-muted text-center flex-grow-1">
                                @(course.Description != null && course.Description.Length > 100 ? course.Description.Substring(0, 100) + "..." : course.Description)
                            </p>
                            <div class="text-center mt-3">
                                <a asp-action="View" asp-route-courseId="@course.Id" class="btn btn-details btn-sm me-2" target="_blank">View Videos</a>
                                <a asp-action="Details"
                                   asp-route-id="@course.Id"
                                   class="btn btn-action btn-sm">
                                    <i class="fas fa-eye"></i> Details
                                </a>

                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>

<link rel="stylesheet" href="~/css/DriveSession/Index.css" />

@section Scripts {
    @* 🟢 ربط ملف JavaScript الخارجي *@
    <script src="~/js/DriveSession/Index.js"></script>
}